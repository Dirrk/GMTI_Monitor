//
   Created by Dirrk on 4/27/2014.

extends layout

block append style
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/manage.css')
    link(rel="stylesheet", href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css")

block append header

    .nav
        h3
            a(href="/") GMTI

block append content

    #manage(ng-app="manageApp", ng-controller="manageCntrl")
        #tabs
            tabset
                tab(heading="Servers")
                    #servers.innerTab

                        #topArea
                            #filterArea
                                label Search:&nbsp
                                input(ng-model="searchText", id="serverSearch")
                                button(ng-click="addServer()") add
                            #performTask
                                label Perform Task &nbsp
                                select(ng-options="task.name for task in serverTasks", ng-model="taskSelected")
                                button Run

                        table.table
                            thead
                                th Server Name
                                th Group
                                th Activity
                                th Options

                            tbody
                                tr(ng-repeat="server in servers | filter:searchText")
                                    td {{server.server}}
                                    td
                                        select(ng-options="group.name for group in groups", ng-model="selection", value="{{server.group}}")

                                    td {{server.lastUpdate}}
                                    td
                                        .spaceout
                                            input(type="checkbox")
                                            button Delete
                                            button Save

                        #serverModal.radamodal
                            .radamodalClose
                                span X
                            #serverModalTitle
                                h4 Add a new server
                            #serverModalForm
                                .stackedForm
                                    label(popover="add multiple by placing each server on a new line",  popover-trigger="mouseenter", popover-placement="left") Server(s) Name:
                                    textarea(ng-model="serverCreateName", ng-required)
                                .stackedForm
                                    label Group:
                                    select(ng-options="group.name for group in groups", ng-model="serverCreateGroup", ng-required)
                            #serverModalButtons
                                button(ng-click="createServer()") Create


                tab(heading="Groups")
                    #groups.innerTab

                        #createGroup
                            label Create: &nbsp
                            input(ng-model="createGroup")
                            button(ng-click="addGroup") add
                        #groupTable
                            table.table
                                thead
                                    th ID#
                                    th Group Name
                                    th Options
                                tbody
                                    tr(ng-repeat="group in groups")
                                        td
                                            input(type="text", value="{{group.id}}", readonly)
                                        td
                                            input(type="text", value="{{group.name}}")
                                        td
                                            button(ng-click="saveGroup") Save


                tab(heading="Dashboards")
                    #dashboards.innerTab

                        #createDashBoard

                            .dashboard-container
                                label ID:
                                input(id="createDashID", placeholder="example_no_spaces")
                                label Front:
                                select(id="createdashFront")
                                    option(value="1") MOC
                                    option(value="2") PHX
                                label Name:
                                input(id="dashName-create", placeholder="Example abcd!")
                                label Groups
                                input(id="dashGroups-create", placeholder="Need to set this up properly")
                                br
                                label Description:
                                br
                                textarea(id="dashDesc-create", placeholder="Keep it short and simple")
                                .saveArea
                                    button(id="dashDesc-create") Create


                        #listDashboards
                            accordion(close-others="false")
                                accordion-group(ng-repeat="dashboard in dashboards", heading="{{dashboard.id}} :: {{dashboard.name}} :: {{dashboard.description}}")
                                    .dashboard-container
                                        label ID:
                                        input(id="dashID-{{dashboard.id}}", value="{{dashboard.id}}")
                                        label Front:
                                        select(id="dashFront-{{dashboard.id}}")
                                            option(value="1") MOC
                                            option(value="2") PHX
                                        label Name:
                                        input(id="dashName-{{dashboard.id}}", value="{{dashboard.name}}")
                                        label Groups
                                        input(id="dashGroups-{{dashboard.id}}", value="{{dashboard.groups}}")
                                        br
                                        label Description:
                                        br
                                        textarea(id="dashDesc-{{dashboard.id}}", value="{{dashboard.description}}")
                                        .saveArea
                                            button(id="dashDesc-{{dashboard.id}}") Save











block append scripts
    script(type='text/javascript', src='/javascripts/flot/jquery.min.js')
    script(type='text/javascript', src='/javascripts/angular.js')
    script(type='text/javascript', src='/javascripts/ui-bootstrap-tpls-0.9.0.min.js')
    script(type='text/javascript', src='/javascripts/manage.js')
